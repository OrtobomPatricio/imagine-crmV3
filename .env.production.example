# =====================
# Imagine Lab CRM PRO - PRODUCTION CONFIGURATION
# =====================
# IMPORTANT: Copy these values to your VPS .env file
# DO NOT commit this file to Git

# ==== Server ====
NODE_ENV=production
HOST=0.0.0.0
PORT=3000

# Ports used by docker-compose
APP_PORT=3000
MYSQL_PORT=3306

# ==== MySQL Database ====
# FOR DOCKER: Use 'mysql' as host (service name in docker-compose)
# SECURITY: Update with the generated secure password
DATABASE_URL=mysql://root:ZgiMqsshaw6kjyfDCe1fgBlGm6EdUXsGlTHMGLTmk@mysql:3306/chin_crm
MYSQL_ROOT_PASSWORD=ZgiMqsshaw6kjyfDCe1fgBlGm6EdUXsGlTHMGLTmk
MYSQL_DATABASE=chin_crm
MYSQL_USER=crm
MYSQL_PASSWORD=ZgiMqsshaw6kjyfDCe1fgBlGm6EdUXsGlTHMGLTmk

# ==== Auth (CRITICAL SECURITY) ====
# SECURITY: This is a cryptographically secure JWT secret
JWT_SECRET=4b1c79af2946aa9cc7bb70d162441e93138aee97d73851f924c5204ec582eb93ae673273d091bb38bdc13b477279d0512b2b4db3c886d11298c223acc4285727

# Owner principal - Update with your unique OpenID
OWNER_OPEN_ID=your-unique-owner-id-here

# ==== OAuth portal ====
# UPDATE THESE WITH YOUR PRODUCTION URL (e.g., https://crm.yourdomain.com)
VITE_OAUTH_PORTAL_URL=http://168.231.98.244:3000
VITE_APP_ID=chin-crm-prod
OAUTH_SERVER_URL=http://168.231.98.244:3000
CLIENT_URL=http://168.231.98.244:3000
VITE_API_URL=http://168.231.98.244:3000

# ==== DEV LOGIN (MUST BE DISABLED IN PRODUCTION) ====
ALLOW_DEV_LOGIN=0
VITE_DEV_BYPASS_AUTH=0

# ==== Secrets Encryption (CRITICAL) ====
# SECURITY: Cryptographically secure encryption key for WhatsApp/Facebook tokens
DATA_ENCRYPTION_KEY=c4b9d2660e72d5cf744a75b3790602e1cb0920f5df7125ccf7f354afe5220692

# ==== WhatsApp Cloud API ====
# SECURITY: Secure webhook verification token
WHATSAPP_WEBHOOK_VERIFY_TOKEN=56038e714637c181f21d35af0e46e8cfc0e948ac403bc3ba48adaf9f50605a07

# App Secret de Meta (configure from your Meta App Dashboard)
WHATSAPP_APP_SECRET=

# Graph API
WHATSAPP_GRAPH_VERSION=v19.0
WHATSAPP_GRAPH_BASE_URL=https://graph.facebook.com

# ==== Bootstrap Admin (For first-time setup) ====
# UPDATE THESE BEFORE FIRST DEPLOYMENT
BOOTSTRAP_ADMIN_EMAIL=admin@yourcompany.com
BOOTSTRAP_ADMIN_PASSWORD=W0oHydaMtjSD1NpoVhnoAQ

# ==== Migrations ====
RUN_MIGRATIONS=1

# ==== Optional: Storage/Notification Proxy ====
BUILT_IN_FORGE_API_URL=
BUILT_IN_FORGE_API_KEY=

# ==== Trust Proxy (Set to 1 if behind Nginx/Load Balancer) ====
TRUST_PROXY=1

# ==== Rate Limiting ====
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=600
